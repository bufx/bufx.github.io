<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>微信小程序框架组件-媒体组件 | 技术分享主页</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="audio音频组件 基础库 1.0.0 开始支持，低版本需做兼容处理。  音频。1.6.0版本开始，该组件不再维护。建议使用能力更强的 wx.createInnerAudioContext 接口">
<meta property="og:type" content="article">
<meta property="og:title" content="微信小程序框架组件-媒体组件">
<meta property="og:url" content="https://blog.buubiu.com/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E7%BB%84%E4%BB%B6-%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/index.html">
<meta property="og:site_name" content="技术分享主页">
<meta property="og:description" content="audio音频组件 基础库 1.0.0 开始支持，低版本需做兼容处理。  音频。1.6.0版本开始，该组件不再维护。建议使用能力更强的 wx.createInnerAudioContext 接口">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.buubiu.com/img/article/5RhpVl1636697540762.png">
<meta property="og:image" content="https://blog.buubiu.com/img/article/yU9J3C1636697967237.png">
<meta property="og:image" content="https://blog.buubiu.com/img/article/DancCg1636698024229.jpg">
<meta property="og:image" content="https://blog.buubiu.com/img/article/pBdhdZ1636698688951.png">
<meta property="og:image" content="https://blog.buubiu.com/img/article/GgMUoK1636699073641.png">
<meta property="og:image" content="https://blog.buubiu.com/img/article/whWwne1636699169721.png">
<meta property="og:image" content="https://blog.buubiu.com/img/article/GxCm841636701175970.png">
<meta property="article:published_time" content="2021-11-12T06:03:39.000Z">
<meta property="article:modified_time" content="2024-01-25T15:08:05.932Z">
<meta property="article:author" content="buubiu">
<meta property="article:tag" content="微信小程序">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.buubiu.com/img/article/5RhpVl1636697540762.png">
  
    <link rel="alternate" href="/atom.xml" title="技术分享主页" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">技术分享主页</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.buubiu.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-微信小程序框架组件-媒体组件" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E7%BB%84%E4%BB%B6-%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/" class="article-date">
  <time class="dt-published" datetime="2021-11-12T06:03:39.000Z" itemprop="datePublished">2021-11-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BE%AE%E4%BF%A1/">微信</a>►<a class="article-category-link" href="/categories/%E5%BE%AE%E4%BF%A1/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      微信小程序框架组件-媒体组件
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="audio音频组件"><a href="#audio音频组件" class="headerlink" title="audio音频组件"></a>audio音频组件</h2><blockquote>
<p>基础库 1.0.0 开始支持，低版本需做<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>音频。<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.0</a>版本开始，该组件不再维护。建议使用能力更强的 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/audio/wx.createInnerAudioContext.html">wx.createInnerAudioContext</a> 接口</p>
<span id="more"></span>

<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">audio 组件的唯一标识符</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">src</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">要播放音频的资源地址</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">loop</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否循环播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">controls</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否显示默认控件</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">poster</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">默认控件上的音频封面的图片资源地址，如果 controls 属性值为 false 则设置 poster 无效</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">未知音频</td>
<td align="left">否</td>
<td align="left">默认控件上的音频名字，如果 controls 属性值为 false 则设置 name 无效</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">author</td>
<td align="left">string</td>
<td align="left">未知作者</td>
<td align="left">否</td>
<td align="left">默认控件上的作者名字，如果 controls 属性值为 false 则设置 author 无效</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">binderror</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当发生错误时触发 error 事件，detail &#x3D; {errMsg:MediaError.code}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindplay</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当开始&#x2F;继续播放时触发play事件</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindpause</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当暂停播放时触发 pause 事件</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindtimeupdate</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当播放进度改变时触发 timeupdate 事件，detail &#x3D; {currentTime, duration}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindended</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当播放到末尾时触发 ended 事件</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
</tbody></table>
<h3 id="MediaError-code"><a href="#MediaError-code" class="headerlink" title="MediaError.code"></a>MediaError.code</h3><table>
<thead>
<tr>
<th align="left">返回错误码</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">获取资源被用户禁止</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">网络错误</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">解码错误</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">不合适资源</td>
</tr>
</tbody></table>
<h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/s/NycgqcmS6KYY">在开发者工具中预览效果</a></p>
<figure class="highlight html"><figcaption><span>index.wxml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page__hd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;page__title&quot;</span>&gt;</span>audio<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;page__desc&quot;</span>&gt;</span>音频<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page__bd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section section_gap&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;current.src&#125;&#125;&quot;</span> <span class="attr">poster</span>=<span class="string">&quot;&#123;&#123;current.poster&#125;&#125;&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&#123;&#123;current.name&#125;&#125;&quot;</span> <span class="attr">author</span>=<span class="string">&quot;&#123;&#123;current.author&#125;&#125;&quot;</span> <span class="attr">action</span>=<span class="string">&quot;&#123;&#123;audioAction&#125;&#125;&quot;</span> <span class="attr">bindplay</span>=<span class="string">&quot;audioPlayed&quot;</span> <span class="attr">bindtimeupdate</span>=<span class="string">&quot;audioTimeUpdated&quot;</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section section_gap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;section__title&quot;</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;body-view&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;playAudio&quot;</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section section_gap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;section__title&quot;</span>&gt;</span>暂停<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;body-view&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;pauseAudio&quot;</span>&gt;</span>暂停<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section section_gap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;section__title&quot;</span>&gt;</span>进度<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;body-view&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">slider</span> <span class="attr">bindchange</span>=<span class="string">&quot;timeSliderChanged&quot;</span> <span class="attr">left-icon</span>=<span class="string">&quot;cancel&quot;</span> <span class="attr">right-icon</span>=<span class="string">&quot;success_no_circle&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section section_gap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;section__title&quot;</span>&gt;</span>播放速率<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;body-view&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">slider</span> <span class="attr">min</span>=<span class="string">&quot;1&quot;</span> <span class="attr">max</span>=<span class="string">&quot;4&quot;</span> <span class="attr">bindchange</span>=<span class="string">&quot;playbackRateSliderChanged&quot;</span> <span class="attr">left-icon</span>=<span class="string">&quot;cancel&quot;</span> <span class="attr">right-icon</span>=<span class="string">&quot;success_no_circle&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">current</span>: &#123;</span><br><span class="line">      <span class="attr">poster</span>: <span class="string">&#x27;http://y.gtimg.cn/music/photo_new/T002R300x300M000003rsKF44GyaSk.jpg?max_age=2592000&#x27;</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;此时此刻&#x27;</span>,</span><br><span class="line">      <span class="attr">author</span>: <span class="string">&#x27;许巍&#x27;</span>,</span><br><span class="line">      <span class="attr">src</span>: <span class="string">&#x27;http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&amp;uin=346897220&amp;vkey=6292F51E1E384E06DCBDC9AB7C49FD713D632D313AC4858BACB8DDD29067D3C601481D36E62053BF8DFEAF74C0A5CCFADD6471160CAF3E6A&amp;fromtag=46&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">audioAction</span>: &#123;</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;pause&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">audioPlayed</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;audio is played&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">audioTimeUpdated</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">duration</span> = e.<span class="property">detail</span>.<span class="property">duration</span>;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">timeSliderChanged</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">duration</span>)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> time = <span class="variable language_">this</span>.<span class="property">duration</span> * e.<span class="property">detail</span>.<span class="property">value</span> / <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">audioAction</span>: &#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;setCurrentTime&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: time</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">playbackRateSliderChanged</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">audioAction</span>: &#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;setPlaybackRate&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: e.<span class="property">detail</span>.<span class="property">value</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">playAudio</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">audioAction</span>: &#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;play&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">pauseAudio</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">audioAction</span>: &#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;pause&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../img/article/5RhpVl1636697540762.png"></p>
<h2 id="camera-系统相机-组件"><a href="#camera-系统相机-组件" class="headerlink" title="camera 系统相机 组件"></a>camera 系统相机 组件</h2><blockquote>
<p>基础库 1.6.0 开始支持，低版本需做<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>系统相机。扫码二维码功能，需升级微信客户端至6.7.3。需要<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/authorize.html">用户授权</a> <code>scope.camera</code>。 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a>起 initdone 事件返回 maxZoom，最大变焦范围，相关接口 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/camera/CameraContext.setZoom.html">CameraContext.setZoom</a>。</p>
<p>相关api：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/camera/wx.createCameraContext.html">wx.createCameraContext</a></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">mode</td>
<td align="left">string</td>
<td align="left">normal</td>
<td align="left">否</td>
<td align="left">应用模式，只在初始化时有效，不能动态变更</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a></td>
</tr>
<tr>
<td align="left">resolution</td>
<td align="left">string</td>
<td align="left">medium</td>
<td align="left">否</td>
<td align="left">分辨率，不支持动态修改</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">device-position</td>
<td align="left">string</td>
<td align="left">back</td>
<td align="left">否</td>
<td align="left">摄像头朝向</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">flash</td>
<td align="left">string</td>
<td align="left">auto</td>
<td align="left">否</td>
<td align="left">闪光灯，值为auto, on, off</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">frame-size</td>
<td align="left">string</td>
<td align="left">medium</td>
<td align="left">否</td>
<td align="left">指定期望的相机帧数据尺寸</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.0</a></td>
</tr>
<tr>
<td align="left">bindstop</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">摄像头在非正常终止时触发，如退出后台等情况</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">binderror</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">用户不允许使用摄像头时触发</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindinitdone</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">相机初始化完成时触发，<code>e.detail = &#123;maxZoom&#125;</code></td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.0</a></td>
</tr>
<tr>
<td align="left">bindscancode</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">在扫码识别成功时触发，仅在 mode&#x3D;”scanCode” 时生效</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a></td>
</tr>
</tbody></table>
<p><strong>mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">normal</td>
<td align="left">相机模式</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">scanCode</td>
<td align="left">扫码模式</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>resolution 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">low</td>
<td align="left">低</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">medium</td>
<td align="left">中</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">high</td>
<td align="left">高</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>device-position 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">front</td>
<td align="left">前置</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">back</td>
<td align="left">后置</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>flash 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">auto</td>
<td align="left">自动</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">on</td>
<td align="left">打开</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">off</td>
<td align="left">关闭</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">torch</td>
<td align="left">常亮</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.0</a></td>
</tr>
</tbody></table>
<p><strong>frame-size 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">small</td>
<td align="left">小尺寸帧数据</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">medium</td>
<td align="left">中尺寸帧数据</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">large</td>
<td align="left">大尺寸帧数据</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="Bug-amp-Tip"><a href="#Bug-amp-Tip" class="headerlink" title="Bug &amp; Tip"></a>Bug &amp; Tip</h3><ol>
<li><code>tip</code>: 同一页面只能插入一个 <code>camera</code> 组件</li>
<li><code>tip</code>:请注意<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E9%99%90%E5%88%B6">原生组件使用限制</a></li>
<li><code>tip</code>:onCameraFrame 接口根据 frame-size 返回不同尺寸的原始帧数据，与 Camera 组件展示的图像不同，其实际像素值由系统决定</li>
</ol>
<h3 id="示例代码-1"><a href="#示例代码-1" class="headerlink" title="示例代码"></a>示例代码</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/s/VBZ3Jim26zYu">在开发者工具中预览效果</a></p>
<figure class="highlight xml"><figcaption><span>index.wxml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-body&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-body-wrapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">camera</span> <span class="attr">device-position</span>=<span class="string">&quot;back&quot;</span> <span class="attr">flash</span>=<span class="string">&quot;off&quot;</span> <span class="attr">binderror</span>=<span class="string">&quot;error&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%; height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">camera</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn-area&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;takePhoto&quot;</span>&gt;</span>拍照<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn-area&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;startRecord&quot;</span>&gt;</span>开始录像<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn-area&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;stopRecord&quot;</span>&gt;</span>结束录像<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;preview-tips&quot;</span>&gt;</span>预览<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;src&#125;&#125;&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;src&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">video</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;videoSrc&#125;&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;video&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;videoSrc&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span> = wx.<span class="title function_">createCameraContext</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">takePhoto</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">takePhoto</span>(&#123;</span><br><span class="line">      <span class="attr">quality</span>: <span class="string">&#x27;high&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">src</span>: res.<span class="property">tempImagePath</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">startRecord</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">startRecord</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;startRecord&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">stopRecord</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">stopRecord</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">src</span>: res.<span class="property">tempThumbPath</span>,</span><br><span class="line">          <span class="attr">videoSrc</span>: res.<span class="property">tempVideoPath</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">error</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">detail</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>真机调试效果：</p>
<p><img src="/../img/article/yU9J3C1636697967237.png"></p>
<h2 id="image图片组件"><a href="#image图片组件" class="headerlink" title="image图片组件"></a>image图片组件</h2><blockquote>
<p>基础库 1.0.0 开始支持，低版本需做<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>图片。支持 JPG、PNG、SVG、WEBP、GIF 等格式，<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.3.0</a> 起支持云文件ID。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">src</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">图片资源地址</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">mode</td>
<td align="left">string</td>
<td align="left">scaleToFill</td>
<td align="left">否</td>
<td align="left">图片裁剪、缩放的模式</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">webp</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">默认不解析 webP 格式，只支持网络资源</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.9.0</a></td>
</tr>
<tr>
<td align="left">lazy-load</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">图片懒加载，在即将进入一定范围（上下三屏）时才开始加载</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td align="left">show-menu-by-longpress</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">长按图片显示发送给朋友、收藏、保存图片、搜一搜、打开名片&#x2F;前往群聊&#x2F;打开小程序（若图片中包含对应二维码或小程序码）的菜单</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.0</a></td>
</tr>
<tr>
<td align="left">binderror</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当错误发生时触发，event.detail &#x3D; {errMsg}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindload</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当图片载入完毕时触发，event.detail &#x3D; {height, width}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
</tbody></table>
<p><strong>mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">scaleToFill</td>
<td align="left">缩放模式，不保持纵横比缩放图片，使图片的宽高完全拉伸至填满 image 元素</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">aspectFit</td>
<td align="left">缩放模式，保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">aspectFill</td>
<td align="left">缩放模式，保持纵横比缩放图片，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">widthFix</td>
<td align="left">缩放模式，宽度不变，高度自动变化，保持原图宽高比不变</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">heightFix</td>
<td align="left">缩放模式，高度不变，宽度自动变化，保持原图宽高比不变</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.3</a></td>
</tr>
<tr>
<td align="left">top</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的顶部区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">bottom</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的底部区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">center</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的中间区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">left</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的左边区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">right</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的右边区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">top left</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的左上边区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">top right</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的右上边区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">bottom left</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的左下边区域</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">bottom right</td>
<td align="left">裁剪模式，不缩放图片，只显示图片的右下边区域</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="Bug-amp-Tip-1"><a href="#Bug-amp-Tip-1" class="headerlink" title="Bug &amp; Tip"></a>Bug &amp; Tip</h3><ol>
<li><code>tip</code>：image组件默认宽度320px、高度240px</li>
<li><code>tip</code>：image组件中二维码&#x2F;小程序码图片不支持长按识别。仅在wx.previewImage中支持长按识别</li>
</ol>
<h3 id="示例代码-2"><a href="#示例代码-2" class="headerlink" title="示例代码"></a>示例代码</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/s/3Kcaatmc7Z5s">在开发者工具中预览效果</a></p>
<h4 id="原图"><a href="#原图" class="headerlink" title="原图"></a>原图</h4><p><img src="/../img/article/DancCg1636698024229.jpg"></p>
<figure class="highlight xml"><figcaption><span>index.wxml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page__hd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;page__title&quot;</span>&gt;</span>image<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;page__desc&quot;</span>&gt;</span>图片<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page__bd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section section_gap&quot;</span> <span class="attr">wx:for-items</span>=<span class="string">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section__title&quot;</span>&gt;</span>&#123;&#123;item.text&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;section__ctn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">style</span>=<span class="string">&quot;width: 200px; height: 200px; background-color: #eeeeee;&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;&#123;&#123;item.mode&#125;&#125;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;src&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">array</span>: [&#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;scaleToFill&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;scaleToFill：不保持纵横比缩放图片，使图片完全适应&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;aspectFit&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;aspectFit：保持纵横比缩放图片，使图片的长边能完全显示出来&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;aspectFill&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;aspectFill：保持纵横比缩放图片，只保证图片的短边能完全显示出来&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;top：不缩放图片，只显示图片的顶部区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;bottom：不缩放图片，只显示图片的底部区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;center：不缩放图片，只显示图片的中间区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;left：不缩放图片，只显示图片的左边区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;right：不缩放图片，只显示图片的右边边区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;top left&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;top left：不缩放图片，只显示图片的左上边区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;top right&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;top right：不缩放图片，只显示图片的右上边区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;bottom left&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;bottom left：不缩放图片，只显示图片的左下边区域&#x27;</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      <span class="attr">mode</span>: <span class="string">&#x27;bottom right&#x27;</span>,</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;bottom right：不缩放图片，只显示图片的右下边区域&#x27;</span></span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="attr">src</span>: <span class="string">&#x27;../resources/cat.jpg&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">imageError</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;image3发生error事件，携带值为&#x27;</span>, e.<span class="property">detail</span>.<span class="property">errMsg</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../img/article/pBdhdZ1636698688951.png"></p>
<h2 id="live-player-实时音视频播放-组件"><a href="#live-player-实时音视频播放-组件" class="headerlink" title="live-player 实时音视频播放 组件"></a>live-player 实时音视频播放 组件</h2><blockquote>
<p>基础库 1.7.0 开始支持，低版本需做<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>实时音视频播放（v2.9.1 起支持<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E5%90%8C%E5%B1%82%E6%B8%B2%E6%9F%93">同层渲染</a>）。相关api：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/live/wx.createLivePlayerContext.html">wx.createLivePlayerContext</a></p>
<p>暂只针对国内主体如下类目的小程序开放，需要先通过类目审核，再在小程序管理后台，「开发」-「接口设置」中自助开通该组件权限。</p>
<table>
<thead>
<tr>
<th align="left">一级类目&#x2F;主体类型</th>
<th align="left">二级类目</th>
<th align="left">小程序内容场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">社交</td>
<td align="left">直播</td>
<td align="left">涉及娱乐性质，如明星直播、生活趣事直播、宠物直播等。选择该类目后首次提交代码审核，需经当地互联网主管机关审核确认，预计审核时长 7 天左右</td>
</tr>
<tr>
<td align="left">教育</td>
<td align="left">在线视频课程</td>
<td align="left">网课、在线培训、讲座等教育类直播</td>
</tr>
<tr>
<td align="left">医疗</td>
<td align="left">互联网医院，公立医疗机构，私立医疗机构</td>
<td align="left">问诊、大型健康讲座等直播</td>
</tr>
<tr>
<td align="left">金融</td>
<td align="left">银行、信托、公募基金、私募基金、证券&#x2F;期货、证券、期货投资咨询、保险、征信业务、新三板信息服务平台、股票信息服务平台（港股&#x2F;美股）、消费金融</td>
<td align="left">金融产品视频客服理赔、金融产品推广直播等</td>
</tr>
<tr>
<td align="left">汽车</td>
<td align="left">汽车预售服务</td>
<td align="left">汽车预售、推广直播</td>
</tr>
<tr>
<td align="left">政府主体帐号</td>
<td align="left">&#x2F;</td>
<td align="left">政府相关工作推广直播、领导讲话直播等</td>
</tr>
<tr>
<td align="left">工具</td>
<td align="left">视频客服</td>
<td align="left">不涉及以上几类内容的一对一视频客服服务，如企业售后一对一视频服务等</td>
</tr>
<tr>
<td align="left">IT科技</td>
<td align="left">多方通信；音视频设备</td>
<td align="left">为多方提供电话会议&#x2F;视频会议等服务；智能家居场景下控制摄像头</td>
</tr>
</tbody></table>
<blockquote>
<p>在小程序插件中使用需要基础库版本 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.3.0</a> 起。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">src</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">音视频地址。目前仅支持 <code>flv</code>, <code>rtmp</code> 格式</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">mode</td>
<td align="left">string</td>
<td align="left">live</td>
<td align="left">否</td>
<td align="left">模式</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">autoplay</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">自动播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">muted</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否静音</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">orientation</td>
<td align="left">string</td>
<td align="left">vertical</td>
<td align="left">否</td>
<td align="left">画面方向</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">object-fit</td>
<td align="left">string</td>
<td align="left">contain</td>
<td align="left">否</td>
<td align="left">填充模式，可选值有 <code>contain</code>，<code>fillCrop</code></td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">background-mute</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">进入后台时是否静音（已废弃，默认退后台静音）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">min-cache</td>
<td align="left">number</td>
<td align="left">1</td>
<td align="left">否</td>
<td align="left">最小缓冲区，单位s（RTC 模式推荐 0.2s）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">max-cache</td>
<td align="left">number</td>
<td align="left">3</td>
<td align="left">否</td>
<td align="left">最大缓冲区，单位s（RTC 模式推荐 0.8s）。缓冲区用来抵抗网络波动，缓冲数据越多，网络抗性越好，但时延越大。</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">sound-mode</td>
<td align="left">string</td>
<td align="left">speaker</td>
<td align="left">否</td>
<td align="left">声音输出方式</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td align="left">auto-pause-if-navigate</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">当跳转到本小程序的其他页面时，是否自动暂停本页面的实时音视频播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.5.0</a></td>
</tr>
<tr>
<td align="left">auto-pause-if-open-native</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">当跳转到其它微信原生页面时，是否自动暂停本页面的实时音视频播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.5.0</a></td>
</tr>
<tr>
<td align="left">picture-in-picture-mode</td>
<td align="left">string&#x2F;Array</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">设置小窗模式： push, pop，空字符串或通过数组形式设置多种模式（如： [“push”, “pop”]）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.3</a></td>
</tr>
<tr>
<td align="left">referrer-policy</td>
<td align="left">string</td>
<td align="left">no-referrer</td>
<td align="left">否</td>
<td align="left">格式固定为 <code>https://servicewechat.com/&#123;appid&#125;/&#123;version&#125;/page-frame.html</code>，其中 {appid} 为小程序的 appid，{version} 为小程序的版本号，版本号为 0 表示为开发版、体验版以及审核版本，版本号为 devtools 表示为开发者工具，其余为正式版本；</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.13.0</a></td>
</tr>
<tr>
<td align="left">bindstatechange</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">播放状态变化事件，detail &#x3D; {code}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">bindfullscreenchange</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">全屏变化事件，detail &#x3D; {direction, fullScreen}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">bindnetstatus</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">网络状态通知，detail &#x3D; {info}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">bindaudiovolumenotify</td>
<td align="left">eventhandler</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">播放音量大小通知，detail &#x3D; {}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">bindenterpictureinpicture</td>
<td align="left">eventhandler</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">播放器进入小窗</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">bindleavepictureinpicture</td>
<td align="left">eventhandler</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">播放器退出小窗</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
</tbody></table>
<p><strong>mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">live</td>
<td align="left">直播</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">RTC</td>
<td align="left">实时通话，该模式时延更低</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>orientation 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">vertical</td>
<td align="left">竖直</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">horizontal</td>
<td align="left">水平</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>object-fit 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">contain</td>
<td align="left">图像长边填满屏幕，短边区域会被填充⿊⾊</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fillCrop</td>
<td align="left">图像铺满屏幕，超出显示区域的部分将被截掉</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>sound-mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">speaker</td>
<td align="left">扬声器</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">ear</td>
<td align="left">听筒</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>picture-in-picture-mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[]</td>
<td align="left">取消小窗</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">push</td>
<td align="left">路由 push 时触发小窗</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pop</td>
<td align="left">路由 pop 时触发小窗</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>referrer-policy 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">origin</td>
<td align="left">发送完整的referrer</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">no-referrer</td>
<td align="left">不发送</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><table>
<thead>
<tr>
<th align="left">代码</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">2001</td>
<td align="left">已经连接服务器</td>
</tr>
<tr>
<td align="left">2002</td>
<td align="left">已经连接 RTMP 服务器,开始拉流</td>
</tr>
<tr>
<td align="left">2003</td>
<td align="left">网络接收到首个视频数据包(IDR)</td>
</tr>
<tr>
<td align="left">2004</td>
<td align="left">视频播放开始</td>
</tr>
<tr>
<td align="left">2005</td>
<td align="left">视频播放进度</td>
</tr>
<tr>
<td align="left">2006</td>
<td align="left">视频播放结束</td>
</tr>
<tr>
<td align="left">2007</td>
<td align="left">视频播放Loading</td>
</tr>
<tr>
<td align="left">2008</td>
<td align="left">解码器启动</td>
</tr>
<tr>
<td align="left">2009</td>
<td align="left">视频分辨率改变</td>
</tr>
<tr>
<td align="left">-2301</td>
<td align="left">网络断连，且经多次重连抢救无效，更多重试请自行重启播放</td>
</tr>
<tr>
<td align="left">-2302</td>
<td align="left">获取加速拉流地址失败</td>
</tr>
<tr>
<td align="left">2101</td>
<td align="left">当前视频帧解码失败</td>
</tr>
<tr>
<td align="left">2102</td>
<td align="left">当前音频帧解码失败</td>
</tr>
<tr>
<td align="left">2103</td>
<td align="left">网络断连, 已启动自动重连</td>
</tr>
<tr>
<td align="left">2104</td>
<td align="left">网络来包不稳：可能是下行带宽不足，或由于主播端出流不均匀</td>
</tr>
<tr>
<td align="left">2105</td>
<td align="left">当前视频播放出现卡顿</td>
</tr>
<tr>
<td align="left">2106</td>
<td align="left">硬解启动失败，采用软解</td>
</tr>
<tr>
<td align="left">2107</td>
<td align="left">当前视频帧不连续，可能丢帧</td>
</tr>
<tr>
<td align="left">2108</td>
<td align="left">当前流硬解第一个I帧失败，SDK自动切软解</td>
</tr>
<tr>
<td align="left">3001</td>
<td align="left">RTMP -DNS解析失败</td>
</tr>
<tr>
<td align="left">3002</td>
<td align="left">RTMP服务器连接失败</td>
</tr>
<tr>
<td align="left">3003</td>
<td align="left">RTMP服务器握手失败</td>
</tr>
<tr>
<td align="left">3005</td>
<td align="left">RTMP 读&#x2F;写失败，之后会发起网络重试</td>
</tr>
</tbody></table>
<h3 id="网络状态数据"><a href="#网络状态数据" class="headerlink" title="网络状态数据"></a>网络状态数据</h3><table>
<thead>
<tr>
<th align="left">键名</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">videoBitrate</td>
<td align="left">当前视频编&#x2F;码器输出的比特率，单位 kbps</td>
</tr>
<tr>
<td align="left">audioBitrate</td>
<td align="left">当前音频编&#x2F;码器输出的比特率，单位 kbps</td>
</tr>
<tr>
<td align="left">videoFPS</td>
<td align="left">当前视频帧率</td>
</tr>
<tr>
<td align="left">videoGOP</td>
<td align="left">当前视频 GOP,也就是每两个关键帧(I帧)间隔时长，单位 s</td>
</tr>
<tr>
<td align="left">netSpeed</td>
<td align="left">当前的发送&#x2F;接收速度</td>
</tr>
<tr>
<td align="left">netJitter</td>
<td align="left">网络抖动情况，为 0 时表示没有任何抖动，值越大表明网络抖动越大，网络越不稳定</td>
</tr>
<tr>
<td align="left">netQualityLevel</td>
<td align="left">网络质量：0：未定义 1：最好 2：好 3：一般 4：差 5：很差 6：不可用</td>
</tr>
<tr>
<td align="left">videoWidth</td>
<td align="left">视频画面的宽度</td>
</tr>
<tr>
<td align="left">videoHeight</td>
<td align="left">视频画面的高度</td>
</tr>
<tr>
<td align="left">videoCache</td>
<td align="left">缓冲的视频总时长，单位毫秒</td>
</tr>
<tr>
<td align="left">audioCache</td>
<td align="left">缓冲的音频总时长，单位毫秒</td>
</tr>
<tr>
<td align="left">vDecCacheSize</td>
<td align="left">解码器中缓存的视频帧数 (Android 端硬解码时存在）</td>
</tr>
<tr>
<td align="left">vSumCacheSize</td>
<td align="left">缓冲的总视频帧数，该数值越大，播放延迟越高</td>
</tr>
<tr>
<td align="left">avPlayInterval</td>
<td align="left">音画同步错位时间（播放），单位 ms，此数值越小，音画同步越好</td>
</tr>
<tr>
<td align="left">avRecvInterval</td>
<td align="left">音画同步错位时间（网络），单位 ms，此数值越小，音画同步越好</td>
</tr>
<tr>
<td align="left">audioCacheThreshold</td>
<td align="left">音频缓冲时长阈值，缓冲超过该阈值后，播放器会开始调控延时</td>
</tr>
</tbody></table>
<h3 id="小窗特性说明"><a href="#小窗特性说明" class="headerlink" title="小窗特性说明"></a>小窗特性说明</h3><p>live-player 小窗支持以下三种触发模式（在组件上设置 picture-in-picture-mode 属性）：</p>
<ol>
<li>push 模式，即从当前页跳转至下一页时出现小窗（页面栈push）</li>
<li>pop 模式，即离开当前页面时触发（页面栈pop）</li>
<li>以上两种路由行为均触发小窗</li>
</ol>
<p>此外，小窗还支持以下特性：</p>
<ul>
<li>小窗容器尺寸会根据原组件尺寸自动判断</li>
<li>点击小窗，用户会被导航回小窗对应的播放器页面</li>
<li>小窗出现后，用户可点击小窗右上角的关闭按钮或调用 context.exitPictureInPicture() 接口关闭小窗</li>
</ul>
<p>当播放器进入小窗模式后，播放器所在页面处于 hide 状态(触发 onHide 生命周期)，该页面不会被销毁。当小窗被关闭时，播放器所在页面会被 unload (触发 onUnload 生命周期)。</p>
<h3 id="Bug-amp-Tip-2"><a href="#Bug-amp-Tip-2" class="headerlink" title="Bug &amp; Tip"></a>Bug &amp; Tip</h3><ol>
<li><code>tip</code>：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/live-player.html">live-player</a> 默认宽度300px、高度225px，可通过wxss设置宽高。</li>
<li><code>tip</code>：开发者工具上暂不支持。</li>
<li><code>tip</code>: 相关介绍和原理可参考<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/community/develop/doc/000cccb57444107426c621b1756c09">此文章</a></li>
</ol>
<h3 id="示例代码-3"><a href="#示例代码-3" class="headerlink" title="示例代码"></a>示例代码</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/s/UzWEzmm763Y4">在开发者工具中预览效果</a></p>
<figure class="highlight xml"><figcaption><span>index.wxml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-body&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-section tc&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">live-player</span> <span class="attr">id</span>=<span class="string">&quot;player&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://domain/pull_stream&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;RTC&quot;</span> <span class="attr">autoplay</span> <span class="attr">bindstatechange</span>=<span class="string">&quot;statechange&quot;</span> <span class="attr">binderror</span>=<span class="string">&quot;error&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn-area&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindPlay&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindPause&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>暂停<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindStop&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>停止<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindResume&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>恢复<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindMute&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>静音<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="title function_">onReady</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span> = wx.<span class="title function_">createLivePlayerContext</span>(<span class="string">&#x27;player&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">statechange</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;live-player code:&#x27;</span>, e.<span class="property">detail</span>.<span class="property">code</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">error</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;live-player error:&#x27;</span>, e.<span class="property">detail</span>.<span class="property">errMsg</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindPlay</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">play</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;play success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;play fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindPause</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">pause</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pause success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pause fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindStop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">stop</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;stop success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;stop fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindResume</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">resume</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;resume success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;resume fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindMute</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">mute</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mute success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mute fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../img/article/GgMUoK1636699073641.png"></p>
<h2 id="live-pusher-实时音视频录制-组件"><a href="#live-pusher-实时音视频录制-组件" class="headerlink" title="live-pusher 实时音视频录制 组件"></a>live-pusher 实时音视频录制 组件</h2><blockquote>
<p>基础库 1.7.0 开始支持，低版本需做<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>实时音视频录制（v2.9.1 起支持<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E5%90%8C%E5%B1%82%E6%B8%B2%E6%9F%93">同层渲染</a>）。需要<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/authorize.html">用户授权</a> <code>scope.camera</code>、<code>scope.record</code>。</p>
<p>暂只针对国内主体如下类目的小程序开放，需要先通过类目审核，再在小程序管理后台，「开发」-「接口设置」中自助开通该组件权限。</p>
<table>
<thead>
<tr>
<th align="left">一级类目&#x2F;主体类型</th>
<th align="left">二级类目</th>
<th align="left">小程序内容场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">社交</td>
<td align="left">直播</td>
<td align="left">涉及娱乐性质，如明星直播、生活趣事直播、宠物直播等。选择该类目后首次提交代码审核，需经当地互联网主管机关审核确认，预计审核时长7天左右</td>
</tr>
<tr>
<td align="left">教育</td>
<td align="left">在线视频课程</td>
<td align="left">网课、在线培训、讲座等教育类直播</td>
</tr>
<tr>
<td align="left">医疗</td>
<td align="left">互联网医院，公立医疗机构，私立医疗机构</td>
<td align="left">问诊、大型健康讲座等直播</td>
</tr>
<tr>
<td align="left">金融</td>
<td align="left">银行、信托、公募基金、私募基金、证券&#x2F;期货、证券、期货投资咨询、保险、征信业务、新三板信息服务平台、股票信息服务平台（港股&#x2F;美股）、消费金融</td>
<td align="left">金融产品视频客服理赔、金融产品推广直播等</td>
</tr>
<tr>
<td align="left">汽车</td>
<td align="left">汽车预售服务</td>
<td align="left">汽车预售、推广直播</td>
</tr>
<tr>
<td align="left">政府主体帐号</td>
<td align="left">&#x2F;</td>
<td align="left">政府相关工作推广直播、领导讲话直播等</td>
</tr>
<tr>
<td align="left">工具</td>
<td align="left">视频客服</td>
<td align="left">不涉及以上几类内容的一对一视频客服服务，如企业售后一对一视频服务等</td>
</tr>
<tr>
<td align="left">IT科技</td>
<td align="left">多方通信；音视频设备</td>
<td align="left">为多方提供电话会议&#x2F;视频会议等服务；智能家居场景下控制摄像头</td>
</tr>
</tbody></table>
<p>相关api：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/live/wx.createLivePusherContext.html">wx.createLivePusherContext</a></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">推流地址。目前仅支持 <code>rtmp</code> 格式</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">mode</td>
<td align="left">string</td>
<td align="left">RTC</td>
<td align="left">否</td>
<td align="left"><code>SD</code>（标清）, <code>HD</code>（高清）, <code>FHD</code>（超清）, <code>RTC</code>（实时通话）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">autopush</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">自动推流</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">muted</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否静音。即将废弃，可用 <code>enable-mic</code> 替代</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">enable-camera</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">开启摄像头</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">auto-focus</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">自动聚集</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">orientation</td>
<td align="left">string</td>
<td align="left">vertical</td>
<td align="left">否</td>
<td align="left">画面方向</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">beauty</td>
<td align="left">number</td>
<td align="left">0</td>
<td align="left">否</td>
<td align="left">美颜，取值范围 0-9 ，0 表示关闭</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">whiteness</td>
<td align="left">number</td>
<td align="left">0</td>
<td align="left">否</td>
<td align="left">美白，取值范围 0-9 ，0 表示关闭</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">aspect</td>
<td align="left">string</td>
<td align="left">9:16</td>
<td align="left">否</td>
<td align="left">宽高比，可选值有 <code>3:4</code>, <code>9:16</code></td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">min-bitrate</td>
<td align="left">number</td>
<td align="left">200</td>
<td align="left">否</td>
<td align="left">最小码率</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">max-bitrate</td>
<td align="left">number</td>
<td align="left">1000</td>
<td align="left">否</td>
<td align="left">最大码率</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">audio-quality</td>
<td align="left">string</td>
<td align="left">high</td>
<td align="left">否</td>
<td align="left">高音质(48KHz)或低音质(16KHz)，值为<code>high</code>, <code>low</code></td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">waiting-image</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">进入后台时推流的等待画面</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">waiting-image-hash</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">等待画面资源的MD5值</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">zoom</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">调整焦距</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a></td>
</tr>
<tr>
<td align="left">device-position</td>
<td align="left">string</td>
<td align="left">front</td>
<td align="left">否</td>
<td align="left">前置或后置，值为<code>front</code>, <code>back</code></td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.3.0</a></td>
</tr>
<tr>
<td align="left">background-mute</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">进入后台时是否静音（已废弃，默认退后台静音）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">mirror</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">设置推流画面是否镜像，产生的效果在 live-player 反应到</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.0</a></td>
</tr>
<tr>
<td align="left">remote-mirror</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">同 mirror 属性，后续 mirror 将废弃</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">local-mirror</td>
<td align="left">string</td>
<td align="left">auto</td>
<td align="left">否</td>
<td align="left">控制本地预览画面是否镜像</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">audio-reverb-type</td>
<td align="left">number</td>
<td align="left">0</td>
<td align="left">否</td>
<td align="left">音频混响类型</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">enable-mic</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">开启或关闭麦克风</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">enable-agc</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否开启音频自动增益</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">enable-ans</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否开启音频噪声抑制</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">audio-volume-type</td>
<td align="left">string</td>
<td align="left">auto</td>
<td align="left">否</td>
<td align="left">音量类型</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">video-width</td>
<td align="left">number</td>
<td align="left">360</td>
<td align="left">否</td>
<td align="left">上推的视频流的分辨率宽度</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">video-height</td>
<td align="left">number</td>
<td align="left">640</td>
<td align="left">否</td>
<td align="left">上推的视频流的分辨率高度</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.0</a></td>
</tr>
<tr>
<td align="left">beauty-style</td>
<td align="left">string</td>
<td align="left">smooth</td>
<td align="left">否</td>
<td align="left">设置美颜类型</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.12.0</a></td>
</tr>
<tr>
<td align="left">filter</td>
<td align="left">string</td>
<td align="left">standard</td>
<td align="left">否</td>
<td align="left">设置色彩滤镜</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.12.0</a></td>
</tr>
<tr>
<td align="left">bindstatechange</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">状态变化事件，detail &#x3D; {code}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">bindnetstatus</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">网络状态通知，detail &#x3D; {info}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">binderror</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">渲染错误事件，detail &#x3D; {errMsg, errCode}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.4</a></td>
</tr>
<tr>
<td align="left">bindbgmstart</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">背景音开始播放时触发</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">bindbgmprogress</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">背景音进度变化时触发，detail &#x3D; {progress, duration}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">bindbgmcomplete</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">背景音播放完成时触发</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">bindaudiovolumenotify</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">返回麦克风采集的音量大小</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.12.0</a></td>
</tr>
</tbody></table>
<p><strong>orientation 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">vertical</td>
<td align="left">竖直</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">horizontal</td>
<td align="left">水平</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>local-mirror 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">auto</td>
<td align="left">前置摄像头镜像，后置摄像头不镜像</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">enable</td>
<td align="left">前后置摄像头均镜像</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">disable</td>
<td align="left">前后置摄像头均不镜像</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>audio-reverb-type 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">关闭</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">KTV</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">小房间</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">大会堂</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">低沉</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">洪亮</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">金属声</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">磁性</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>audio-volume-type 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">auto</td>
<td align="left">自动</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">media</td>
<td align="left">媒体音量</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">voicecall</td>
<td align="left">通话音量</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>beauty-style 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">smooth</td>
<td align="left">光滑美颜</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">nature</td>
<td align="left">自然美颜</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>filter 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">standard</td>
<td align="left">标准</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pink</td>
<td align="left">粉嫩</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">nostalgia</td>
<td align="left">怀旧</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">blues</td>
<td align="left">蓝调</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">romantic</td>
<td align="left">浪漫</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cool</td>
<td align="left">清凉</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fresher</td>
<td align="left">清新</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">solor</td>
<td align="left">日系</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">aestheticism</td>
<td align="left">唯美</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">whitening</td>
<td align="left">美白</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cerisered</td>
<td align="left">樱红</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="Bug-amp-Tip-3"><a href="#Bug-amp-Tip-3" class="headerlink" title="Bug &amp; Tip"></a>Bug &amp; Tip</h3><ol>
<li><code>tip</code>：开发者工具上暂不支持。</li>
<li><code>tip</code>：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/live-pusher.html">live-pusher</a> 默认宽度为100%、无默认高度，请通过wxss设置宽高。</li>
<li><code>tip</code>：<code>waiting-image</code> 属性在 2.3.0 起完整支持网络路径、临时文件和包内路径。</li>
<li><code>tip</code>：请注意<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E9%99%90%E5%88%B6">原生组件使用限制</a>。</li>
<li><code>tip</code>: 相关介绍和原理可参考<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/community/develop/doc/000cccb57444107426c621b1756c09">此文章</a></li>
</ol>
<h3 id="错误码（errCode）"><a href="#错误码（errCode）" class="headerlink" title="错误码（errCode）"></a>错误码（errCode）</h3><table>
<thead>
<tr>
<th align="left">代码</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">10001</td>
<td align="left">用户禁止使用摄像头</td>
</tr>
<tr>
<td align="left">10002</td>
<td align="left">用户禁止使用录音</td>
</tr>
<tr>
<td align="left">10003</td>
<td align="left">背景音资源（BGM）加载失败</td>
</tr>
<tr>
<td align="left">10004</td>
<td align="left">等待画面资源（waiting-image）加载失败</td>
</tr>
</tbody></table>
<h3 id="状态码（code）"><a href="#状态码（code）" class="headerlink" title="状态码（code）"></a>状态码（code）</h3><table>
<thead>
<tr>
<th align="left">代码</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1001</td>
<td align="left">已经连接推流服务器</td>
</tr>
<tr>
<td align="left">1002</td>
<td align="left">已经与服务器握手完毕,开始推流</td>
</tr>
<tr>
<td align="left">1003</td>
<td align="left">打开摄像头成功</td>
</tr>
<tr>
<td align="left">1004</td>
<td align="left">录屏启动成功</td>
</tr>
<tr>
<td align="left">1005</td>
<td align="left">推流动态调整分辨率</td>
</tr>
<tr>
<td align="left">1006</td>
<td align="left">推流动态调整码率</td>
</tr>
<tr>
<td align="left">1007</td>
<td align="left">首帧画面采集完成</td>
</tr>
<tr>
<td align="left">1008</td>
<td align="left">编码器启动</td>
</tr>
<tr>
<td align="left">-1301</td>
<td align="left">打开摄像头失败</td>
</tr>
<tr>
<td align="left">-1302</td>
<td align="left">打开麦克风失败</td>
</tr>
<tr>
<td align="left">-1303</td>
<td align="left">视频编码失败</td>
</tr>
<tr>
<td align="left">-1304</td>
<td align="left">音频编码失败</td>
</tr>
<tr>
<td align="left">-1305</td>
<td align="left">不支持的视频分辨率</td>
</tr>
<tr>
<td align="left">-1306</td>
<td align="left">不支持的音频采样率</td>
</tr>
<tr>
<td align="left">-1307</td>
<td align="left">网络断连，且经多次重连抢救无效，更多重试请自行重启推流</td>
</tr>
<tr>
<td align="left">-1308</td>
<td align="left">开始录屏失败，可能是被用户拒绝</td>
</tr>
<tr>
<td align="left">-1309</td>
<td align="left">录屏失败，不支持的Android系统版本，需要5.0以上的系统</td>
</tr>
<tr>
<td align="left">-1310</td>
<td align="left">录屏被其他应用打断了</td>
</tr>
<tr>
<td align="left">-1311</td>
<td align="left">Android Mic打开成功，但是录不到音频数据</td>
</tr>
<tr>
<td align="left">-1312</td>
<td align="left">录屏动态切横竖屏失败</td>
</tr>
<tr>
<td align="left">1101</td>
<td align="left">网络状况不佳：上行带宽太小，上传数据受阻</td>
</tr>
<tr>
<td align="left">1102</td>
<td align="left">网络断连, 已启动自动重连</td>
</tr>
<tr>
<td align="left">1103</td>
<td align="left">硬编码启动失败,采用软编码</td>
</tr>
<tr>
<td align="left">1104</td>
<td align="left">视频编码失败</td>
</tr>
<tr>
<td align="left">1105</td>
<td align="left">新美颜软编码启动失败，采用老的软编码</td>
</tr>
<tr>
<td align="left">1106</td>
<td align="left">新美颜软编码启动失败，采用老的软编码</td>
</tr>
<tr>
<td align="left">3001</td>
<td align="left">RTMP -DNS解析失败</td>
</tr>
<tr>
<td align="left">3002</td>
<td align="left">RTMP服务器连接失败</td>
</tr>
<tr>
<td align="left">3003</td>
<td align="left">RTMP服务器握手失败</td>
</tr>
<tr>
<td align="left">3004</td>
<td align="left">RTMP服务器主动断开，请检查推流地址的合法性或防盗链有效期</td>
</tr>
<tr>
<td align="left">3005</td>
<td align="left">RTMP 读&#x2F;写失败</td>
</tr>
</tbody></table>
<h3 id="网络状态数据（info）"><a href="#网络状态数据（info）" class="headerlink" title="网络状态数据（info）"></a>网络状态数据（info）</h3><table>
<thead>
<tr>
<th align="left">键名</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">videoBitrate</td>
<td align="left">当前视频编&#x2F;码器输出的比特率，单位 kbps</td>
</tr>
<tr>
<td align="left">audioBitrate</td>
<td align="left">当前音频编&#x2F;码器输出的比特率，单位 kbps</td>
</tr>
<tr>
<td align="left">videoFPS</td>
<td align="left">当前视频帧率</td>
</tr>
<tr>
<td align="left">videoGOP</td>
<td align="left">当前视频 GOP,也就是每两个关键帧(I帧)间隔时长，单位 s</td>
</tr>
<tr>
<td align="left">netSpeed</td>
<td align="left">当前的发送&#x2F;接收速度</td>
</tr>
<tr>
<td align="left">netJitter</td>
<td align="left">网络抖动情况，抖动越大，网络越不稳定</td>
</tr>
<tr>
<td align="left">netQualityLevel</td>
<td align="left">网络质量：0：未定义 1：最好 2：好 3：一般 4：差 5：很差 6：不可用</td>
</tr>
<tr>
<td align="left">videoWidth</td>
<td align="left">视频画面的宽度</td>
</tr>
<tr>
<td align="left">videoHeight</td>
<td align="left">视频画面的高度</td>
</tr>
<tr>
<td align="left">videoCache</td>
<td align="left">主播端堆积的视频帧数</td>
</tr>
<tr>
<td align="left">audioCache</td>
<td align="left">主播端堆积的音频帧数</td>
</tr>
</tbody></table>
<h3 id="示例代码-4"><a href="#示例代码-4" class="headerlink" title="示例代码"></a>示例代码</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/s/KvWD9mmA62Yk">在开发者工具中预览效果</a></p>
<figure class="highlight xml"><figcaption><span>index.wxml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-body&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-section tc&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">live-pusher</span> <span class="attr">id</span>=<span class="string">&quot;pusher&quot;</span> <span class="attr">url</span>=<span class="string">&quot;https://domain/push_stream&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;RTC&quot;</span> <span class="attr">autopush</span> <span class="attr">bindstatechange</span>=<span class="string">&quot;statechange&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn-area&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindStart&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>播放推流<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindPause&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>暂停推流<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindStop&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>停止推流<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindResume&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>恢复推流<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindSwitchCamera&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>切换前后摄像头<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="title function_">onReady</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span> = wx.<span class="title function_">createLivePusherContext</span>(<span class="string">&#x27;pusher&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">statechange</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;live-pusher code:&#x27;</span>, e.<span class="property">detail</span>.<span class="property">code</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindStart</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">start</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;start fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindPause</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">pause</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pause success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pause fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindStop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">stop</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;stop success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;stop fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindResume</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">resume</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;resume success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;resume fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">bindSwitchCamera</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">switchCamera</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;switchCamera success&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;switchCamera fail&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../img/article/whWwne1636699169721.png"></p>
<h2 id="video-视频-组件"><a href="#video-视频-组件" class="headerlink" title="video 视频 组件"></a>video 视频 组件</h2><blockquote>
<p>基础库 1.0.0 开始支持，低版本需做<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>视频（v2.4.0 起支持<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E5%90%8C%E5%B1%82%E6%B8%B2%E6%9F%93">同层渲染</a>）。相关api：<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.createVideoContext.html">wx.createVideoContext</a></p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">src</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">要播放视频的资源地址，支持网络路径、本地临时路径、云文件ID（<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.3.0</a>）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">duration</td>
<td align="left">number</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">指定视频时长</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td align="left">controls</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">是否显示默认播放控件（播放&#x2F;暂停按钮、播放进度、时间）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">danmu-list</td>
<td align="left">Array.<object></td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">弹幕列表</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">danmu-btn</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否显示弹幕按钮，只在初始化时有效，不能动态变更</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">enable-danmu</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否展示弹幕，只在初始化时有效，不能动态变更</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">autoplay</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否自动播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">loop</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否循环播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.4.0</a></td>
</tr>
<tr>
<td align="left">muted</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否静音播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.4.0</a></td>
</tr>
<tr>
<td align="left">initial-time</td>
<td align="left">number</td>
<td align="left">0</td>
<td align="left">否</td>
<td align="left">指定视频初始播放位置</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.0</a></td>
</tr>
<tr>
<td align="left">page-gesture</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">在非全屏模式下，是否开启亮度与音量调节手势（废弃，见 vslide-gesture）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.0</a></td>
</tr>
<tr>
<td align="left">direction</td>
<td align="left">number</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">设置全屏时视频的方向，不指定则根据宽高比自动判断</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">show-progress</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">若不设置，宽度大于240时才会显示</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">show-fullscreen-btn</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">是否显示全屏按钮</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">show-play-btn</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">是否显示视频底部控制栏的播放按钮</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">show-center-play-btn</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">是否显示视频中间的播放按钮</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">enable-progress-gesture</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">是否开启控制进度的手势</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td align="left">object-fit</td>
<td align="left">string</td>
<td align="left">contain</td>
<td align="left">否</td>
<td align="left">当视频大小与 video 容器大小不一致时，视频的表现形式</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">poster</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">视频封面的图片网络资源地址或云文件ID（<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.3.0</a>）。若 controls 属性值为 false 则设置 poster 无效</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">show-mute-btn</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否显示静音按钮</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">title</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">视频的标题，全屏时在顶部展示</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">play-btn-position</td>
<td align="left">string</td>
<td align="left">bottom</td>
<td align="left">否</td>
<td align="left">播放按钮的位置</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">enable-play-gesture</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否开启播放手势，即双击切换播放&#x2F;暂停</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">auto-pause-if-navigate</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">当跳转到本小程序的其他页面时，是否自动暂停本页面的视频播放</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.5.0</a></td>
</tr>
<tr>
<td align="left">auto-pause-if-open-native</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">当跳转到其它微信原生页面时，是否自动暂停本页面的视频</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.5.0</a></td>
</tr>
<tr>
<td align="left">vslide-gesture</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">在非全屏模式下，是否开启亮度与音量调节手势（同 page-gesture）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.6.2</a></td>
</tr>
<tr>
<td align="left">vslide-gesture-in-fullscreen</td>
<td align="left">boolean</td>
<td align="left">true</td>
<td align="left">否</td>
<td align="left">在全屏模式下，是否开启亮度与音量调节手势</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.6.2</a></td>
</tr>
<tr>
<td align="left">ad-unit-id</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">视频前贴广告单元ID，更多详情可参考开放能力<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/ad/video-patch-ad.html">视频前贴广告</a></td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.1</a></td>
</tr>
<tr>
<td align="left">poster-for-crawler</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">用于给搜索等场景作为视频封面展示，建议使用无播放 icon 的视频封面图，只支持网络地址</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">show-casting-button</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">显示投屏按钮。安卓在同层渲染下生效，支持 DLNA 协议；iOS 支持 AirPlay 和 DLNA 协议</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.10.2</a></td>
</tr>
<tr>
<td align="left">picture-in-picture-mode</td>
<td align="left">string&#x2F;Array</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">设置小窗模式： push, pop，空字符串或通过数组形式设置多种模式（如： [“push”, “pop”]）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">picture-in-picture-show-progress</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否在小窗模式下显示播放进度</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">enable-auto-rotation</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否开启手机横屏时自动全屏，当系统设置开启自动旋转时生效</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">show-screen-lock-button</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否显示锁屏按钮，仅在全屏时显示，锁屏后控制栏的操作</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">show-snapshot-button</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否显示截屏按钮，仅在全屏时显示</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.13.0</a></td>
</tr>
<tr>
<td align="left">show-background-playback-button</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">是否展示后台音频播放按钮</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.14.3</a></td>
</tr>
<tr>
<td align="left">background-poster</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">进入后台音频播放后的通知栏图标（Android 独有）</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.14.3</a></td>
</tr>
<tr>
<td align="left">referrer-policy</td>
<td align="left">string</td>
<td align="left">no-referrer</td>
<td align="left">否</td>
<td align="left">格式固定为 <code>https://servicewechat.com/&#123;appid&#125;/&#123;version&#125;/page-frame.html</code>，其中 {appid} 为小程序的 appid，{version} 为小程序的版本号，版本号为 0 表示为开发版、体验版以及审核版本，版本号为 devtools 表示为开发者工具，其余为正式版本；</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.13.0</a></td>
</tr>
<tr>
<td align="left">is-drm</td>
<td align="left">boolean</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">是否是 DRM 视频源</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.19.3</a></td>
</tr>
<tr>
<td align="left">provision-url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">DRM 设备身份认证 url，仅 is-drm 为 true 时生效 (Android)</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.19.3</a></td>
</tr>
<tr>
<td align="left">certificate-url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">DRM 设备身份认证 url，仅 is-drm 为 true 时生效 (iOS)</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.19.3</a></td>
</tr>
<tr>
<td align="left">license-url</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">DRM 获取加密信息 url，仅 is-drm 为 true 时生效</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.19.3</a></td>
</tr>
<tr>
<td align="left">bindplay</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当开始&#x2F;继续播放时触发play事件</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindpause</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当暂停播放时触发 pause 事件</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindended</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">当播放到末尾时触发 ended 事件</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindtimeupdate</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">播放进度变化时触发，event.detail &#x3D; {currentTime, duration} 。触发频率 250ms 一次</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.0.0</a></td>
</tr>
<tr>
<td align="left">bindfullscreenchange</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">视频进入和退出全屏时触发，event.detail &#x3D; {fullScreen, direction}，direction 有效值为 vertical 或 horizontal</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.4.0</a></td>
</tr>
<tr>
<td align="left">bindwaiting</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">视频出现缓冲时触发</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">binderror</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">视频播放出错时触发</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
<tr>
<td align="left">bindprogress</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">加载进度变化时触发，只支持一段加载。event.detail &#x3D; {buffered}，百分比</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
<tr>
<td align="left">bindloadedmetadata</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">视频元数据加载完成时触发。event.detail &#x3D; {width, height, duration}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.0</a></td>
</tr>
<tr>
<td align="left">bindcontrolstoggle</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">切换 controls 显示隐藏时触发。event.detail &#x3D; {show}</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.9.5</a></td>
</tr>
<tr>
<td align="left">bindenterpictureinpicture</td>
<td align="left">eventhandler</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">播放器进入小窗</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">bindleavepictureinpicture</td>
<td align="left">eventhandler</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">播放器退出小窗</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">bindseekcomplete</td>
<td align="left">eventhandler</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">seek 完成时触发 (position iOS 单位 s, Android 单位 ms)</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.12.0</a></td>
</tr>
</tbody></table>
<p><strong>direction 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">正常竖向</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">90</td>
<td align="left">屏幕逆时针90度</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-90</td>
<td align="left">屏幕顺时针90度</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>object-fit 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">contain</td>
<td align="left">包含</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">fill</td>
<td align="left">填充</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cover</td>
<td align="left">覆盖</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>play-btn-position 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">bottom</td>
<td align="left">controls bar上</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">center</td>
<td align="left">视频中间</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>picture-in-picture-mode 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[]</td>
<td align="left">取消小窗</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">push</td>
<td align="left">路由 push 时触发小窗</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pop</td>
<td align="left">路由 pop 时触发小窗</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>referrer-policy 的合法值</strong></p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">origin</td>
<td align="left">发送完整的referrer</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">no-referrer</td>
<td align="left">不发送</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="Bug-amp-Tip-4"><a href="#Bug-amp-Tip-4" class="headerlink" title="Bug &amp; Tip"></a>Bug &amp; Tip</h3><ol>
<li><code>tip</code>：&#96;<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/video.html">video</a> 默认宽度 300px、高度 225px，可通过 wxss 设置宽高。</li>
<li><code>tip</code>：从 2.4.0 起 video 支持同层渲染，更多请参考<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E9%99%90%E5%88%B6">原生组件使用限制</a></li>
</ol>
<h3 id="支持的格式"><a href="#支持的格式" class="headerlink" title="支持的格式"></a>支持的格式</h3><table>
<thead>
<tr>
<th align="left">格式</th>
<th align="left">iOS</th>
<th align="left">Android</th>
</tr>
</thead>
<tbody><tr>
<td align="left">mp4</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">mov</td>
<td align="left">√</td>
<td align="left">x</td>
</tr>
<tr>
<td align="left">m4v</td>
<td align="left">√</td>
<td align="left">x</td>
</tr>
<tr>
<td align="left">3gp</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">avi</td>
<td align="left">√</td>
<td align="left">x</td>
</tr>
<tr>
<td align="left">m3u8</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">webm</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
</tbody></table>
<h3 id="支持的编码格式"><a href="#支持的编码格式" class="headerlink" title="支持的编码格式"></a>支持的编码格式</h3><table>
<thead>
<tr>
<th align="left">格式</th>
<th align="left">iOS</th>
<th align="left">Android</th>
</tr>
</thead>
<tbody><tr>
<td align="left">H.264</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">HEVC</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">MPEG-4</td>
<td align="left">√</td>
<td align="left">√</td>
</tr>
<tr>
<td align="left">VP9</td>
<td align="left">x</td>
<td align="left">√</td>
</tr>
</tbody></table>
<h3 id="小窗特性说明-1"><a href="#小窗特性说明-1" class="headerlink" title="小窗特性说明"></a>小窗特性说明</h3><p>video 小窗支持以下三种触发模式（在组件上设置 picture-in-picture-mode 属性）：</p>
<ol>
<li>push 模式，即从当前页跳转至下一页时出现小窗（页面栈push）</li>
<li>pop 模式，即离开当前页面时触发（页面栈pop）</li>
<li>以上两种路由行为均触发小窗</li>
</ol>
<p>此外，小窗还支持以下特性：</p>
<ul>
<li>小窗容器尺寸会根据原组件尺寸自动判断</li>
<li>点击小窗，用户会被导航回小窗对应的播放器页面</li>
<li>小窗出现后，用户可点击小窗右上角的关闭按钮或调用 context.exitPictureInPicture() 接口关闭小窗</li>
</ul>
<p>当播放器进入小窗模式后，播放器所在页面处于 hide 状态(触发 onHide 生命周期)，该页面不会被销毁。当小窗被关闭时，播放器所在页面会被 unload (触发 onUnload 生命周期)。</p>
<h3 id="示例代码-5"><a href="#示例代码-5" class="headerlink" title="示例代码"></a>示例代码</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/s/X5V6Xmmk6xYB">在开发者工具中预览效果</a></p>
<figure class="highlight html"><figcaption><span>index.wxml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-body&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page-section tc&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;myVideo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://wxsnsdy.tc.qq.com/105/20210/snsdyvideodownload?filekey=30280201010421301f0201690402534804102ca905ce620b1241b726bc41dcff44e00204012882540400&amp;bizid=1023&amp;hy=SH&amp;fileparam=302c020101042530230204136ffd93020457e3c4ff02024ef202031e8d7f02030f42400204045a320a0201000400&quot;</span> <span class="attr">binderror</span>=<span class="string">&quot;videoErrorCallback&quot;</span> <span class="attr">danmu-list</span>=<span class="string">&quot;&#123;&#123;danmuList&#125;&#125;&quot;</span> <span class="attr">enable-danmu</span> <span class="attr">danmu-btn</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cells&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell weui-cell_input&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell__hd&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-label&quot;</span>&gt;</span>弹幕内容<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell__bd&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">bindblur</span>=<span class="string">&quot;bindInputBlur&quot;</span> <span class="attr">class</span>=<span class="string">&quot;weui-input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;在此处输入弹幕内容&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btn-area&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindSendDanmu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">formType</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>发送弹幕<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindPlay&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindPause&quot;</span> <span class="attr">class</span>=<span class="string">&quot;page-body-button&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>暂停<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getRandomColor</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> rgb = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> ; i &lt; <span class="number">3</span>; ++i)&#123;</span><br><span class="line">    <span class="keyword">let</span> color = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">256</span>).<span class="title function_">toString</span>(<span class="number">16</span>)</span><br><span class="line">    color = color.<span class="property">length</span> == <span class="number">1</span> ? <span class="string">&#x27;0&#x27;</span> + color : color</span><br><span class="line">    rgb.<span class="title function_">push</span>(color)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;#&#x27;</span> + rgb.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">onReady</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">videoContext</span> = wx.<span class="title function_">createVideoContext</span>(<span class="string">&#x27;myVideo&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">inputValue</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">src</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">danmuList</span>:</span><br><span class="line">      [&#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;第 1s 出现的弹幕&#x27;</span>,</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;#ff0000&#x27;</span>,</span><br><span class="line">        <span class="attr">time</span>: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;第 3s 出现的弹幕&#x27;</span>,</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;#ff00ff&#x27;</span>,</span><br><span class="line">        <span class="attr">time</span>: <span class="number">3</span></span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">  <span class="attr">bindInputBlur</span>: <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">inputValue</span> = e.<span class="property">detail</span>.<span class="property">value</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">bindSendDanmu</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">videoContext</span>.<span class="title function_">sendDanmu</span>(&#123;</span><br><span class="line">      <span class="attr">text</span>: <span class="variable language_">this</span>.<span class="property">inputValue</span>,</span><br><span class="line">      <span class="attr">color</span>: <span class="title function_">getRandomColor</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">bindPlay</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">videoContext</span>.<span class="title function_">play</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">bindPause</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">videoContext</span>.<span class="title function_">pause</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">videoErrorCallback</span>: <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;视频错误信息:&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">detail</span>.<span class="property">errMsg</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/../img/article/GxCm841636701175970.png"></p>
<h2 id="voip-room-多人视频对话-组件"><a href="#voip-room-多人视频对话-组件" class="headerlink" title="voip-room 多人视频对话 组件"></a>voip-room 多人视频对话 组件</h2><blockquote>
<p>基础库 2.11.0 开始支持，低版本需做<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">兼容处理</a>。</p>
</blockquote>
<p>多人音视频对话。需<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/authorize.html">用户授权</a> <code>scope.camera</code>、<code>scope.record</code>。相关接口： <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/voip/wx.joinVoIPChat.html">wx.joinVoIPChat</a></p>
<p>暂只针对国内主体如下类目的小程序开放，需要先通过类目审核，再在小程序管理后台，「开发」-「接口设置」中自助开通该组件权限。</p>
<table>
<thead>
<tr>
<th align="left">一级类目&#x2F;主体类型</th>
<th align="left">二级类目</th>
<th align="left">小程序内容场景</th>
</tr>
</thead>
<tbody><tr>
<td align="left">教育</td>
<td align="left">在线视频课程</td>
<td align="left">网课、在线培训、讲座等教育类直播</td>
</tr>
<tr>
<td align="left">医疗</td>
<td align="left">互联网医院，公立医院</td>
<td align="left">问诊、大型健康讲座等直播</td>
</tr>
<tr>
<td align="left">医疗</td>
<td align="left">私立医疗机构</td>
<td align="left">&#x2F;</td>
</tr>
<tr>
<td align="left">金融</td>
<td align="left">银行、信托、基金、证券&#x2F;期货、证券、期货投资咨询、保险、征信业务、新三板信息服务平台、股票信息服务平台（港股&#x2F;美股）、消费金融</td>
<td align="left">金融产品视频客服理赔、金融产品推广直播等</td>
</tr>
<tr>
<td align="left">汽车</td>
<td align="left">汽车预售服务</td>
<td align="left">汽车预售、推广直播</td>
</tr>
<tr>
<td align="left">政府主体帐号</td>
<td align="left">&#x2F;</td>
<td align="left">政府相关工作推广直播、领导讲话直播等</td>
</tr>
<tr>
<td align="left">IT 科技</td>
<td align="left">多方通信</td>
<td align="left">在线会议</td>
</tr>
<tr>
<td align="left">IT 科技</td>
<td align="left">硬件设备</td>
<td align="left">智能硬件</td>
</tr>
</tbody></table>
<p>开通该组件权限后，开发者可在 <code>joinVoIPChat</code> 成功后，获取房间成员的 <code>openid</code>，传递给 <code>voip-room</code> 组件，以显示成员画面。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
<th align="left">最低版本</th>
</tr>
</thead>
<tbody><tr>
<td align="left">openid</td>
<td align="left">string</td>
<td align="left"></td>
<td align="left">是</td>
<td align="left">进入房间用户的 openid</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">mode</td>
<td align="left">string</td>
<td align="left">camera</td>
<td align="left">否</td>
<td align="left">对话窗口类型，自身传入 camera，其它用户传入 video</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">device-position</td>
<td align="left">string</td>
<td align="left">front</td>
<td align="left">否</td>
<td align="left">仅在 mode 为 camera 时有效，前置或后置，值为<code>front</code>, <code>back</code></td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
<tr>
<td align="left">binderror</td>
<td align="left">eventhandle</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">创建对话窗口失败时触发</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.11.0</a></td>
</tr>
</tbody></table>
<h3 id="Bug-amp-Tip-5"><a href="#Bug-amp-Tip-5" class="headerlink" title="Bug &amp; Tip"></a>Bug &amp; Tip</h3><ol>
<li><code>tip</code>：开发者工具上暂不支持</li>
<li><code>tip</code>：请注意<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E9%99%90%E5%88%B6">原生组件使用限制</a></li>
</ol>
<h3 id="示例代码-6"><a href="#示例代码-6" class="headerlink" title="示例代码"></a>示例代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;openIdList&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">voip-room</span></span></span><br><span class="line"><span class="tag">    <span class="attr">openid</span>=<span class="string">&quot;&#123;&#123;item&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">mode</span>=<span class="string">&quot;&#123;&#123;selfOpenId === item ? &#x27;camera&#x27; : &#x27;video&#x27;&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">voip-room</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.buubiu.com/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E7%BB%84%E4%BB%B6-%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/" data-id="cm3xsrxzn00pwucl8531z2bnq" data-title="微信小程序框架组件-媒体组件" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E7%BB%84%E4%BB%B6-%E5%9C%B0%E5%9B%BE%E7%BB%84%E4%BB%B6/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          微信小程序框架组件-地图组件
        
      </div>
    </a>
  
  
    <a href="/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E7%BB%84%E4%BB%B6-%E5%AF%BC%E8%88%AA%E7%BB%84%E4%BB%B6/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">微信小程序框架组件-导航组件</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/APM/">APM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ElasticSearch/ElasticSearch6/">ElasticSearch6</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ElasticSearch/ElasticSearch7/">ElasticSearch7</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Gradle/">Gradle</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Gradle/6-2/">6.2</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/Class%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/">Class文件结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">垃圾回收</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/">垃圾回收器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/">字符串常量池</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/">执行引擎</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E5%8C%BA/">本地方法区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%AD%90%E7%B3%BB%E7%BB%9F/">类加载子系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/">运行时数据区</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/%E5%A0%86/">堆</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/%E6%96%B9%E6%B3%95%E5%8C%BA/">方法区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88/">本地方法栈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8/">程序计数器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/">虚拟机栈</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Jenkins/">Jenkins</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/">Kubernetes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/Kubernetes%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">Kubernetes快速上手</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Kubernetes/">深入理解Kubernetes</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/LDAP/">LDAP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Seata/">Seata</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringCloud/">SpringCloud</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringCloud-Alibaba/">SpringCloud Alibaba</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringMVC/">SpringMVC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Swagger/">Swagger</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Zookeeper/">Zookeeper</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/">中间件</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/ES6/">ES6</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">并发编程</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Executor%E4%BD%93%E7%B3%BB/">Executor体系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/Lock%E4%BD%93%E7%B3%BB/">Lock体系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C%E7%B1%BB/">原子操作类</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%85%B3%E9%94%AE%E5%AD%97/">并发关键字</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%AE%9E%E8%B7%B5/">并发实践</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/">并发容器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E5%B7%A5%E5%85%B7/">并发工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E5%B9%B6%E5%8F%91%E7%90%86%E8%AE%BA/">并发理论</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/">知识体系</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1/">微信</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%A6%82%E8%BF%B0/">概述</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BE%85%E5%8A%A9%E5%B7%A5%E5%85%B7/">辅助工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8/">集合容器</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BBR/" rel="tag">BBR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Centos7/" rel="tag">Centos7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Class%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/" rel="tag">Class文件结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Consul/" rel="tag">Consul</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DataGrip/" rel="tag">DataGrip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/" rel="tag">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/" rel="tag">ElasticSearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eureka/" rel="tag">Eureka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Executor%E4%BD%93%E7%B3%BB/" rel="tag">Executor体系</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/" rel="tag">Gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JWT/" rel="tag">JWT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%99%9A%E6%8B%9F%E6%9C%BA/" rel="tag">Java虚拟机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kibana/" rel="tag">Kibana</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LDAP/" rel="tag">LDAP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Launchpad/" rel="tag">Launchpad</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lock%E4%BD%93%E7%B3%BB/" rel="tag">Lock体系</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nexus3/" rel="tag">Nexus3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/" rel="tag">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR/" rel="tag">SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Seata/" rel="tag">Seata</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/StringTable/" rel="tag">StringTable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swagger/" rel="tag">Swagger</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebLogic/" rel="tag">WebLogic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zookeeper/" rel="tag">Zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debian/" rel="tag">debian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/skywalking/" rel="tag">skywalking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thymeleaf/" rel="tag">thymeleaf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%80%E4%BA%9B%E9%99%84%E5%8A%A0%E4%BF%A1%E6%81%AF/" rel="tag">一些附加信息</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%9A%E9%A9%AC%E9%80%8A/" rel="tag">亚马逊</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5/" rel="tag">动态链接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C%E7%B1%BB/" rel="tag">原子操作类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/" rel="tag">垃圾回收</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/" rel="tag">垃圾回收器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A0%86/" rel="tag">堆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" rel="tag">存储过程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E7%9A%84%E8%BF%87%E7%A8%8B/" rel="tag">对象分配的过程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E8%A1%A8/" rel="tag">局部变量表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B4%E8%BD%BB%E4%BB%A3%E5%92%8C%E8%80%81%E5%B9%B4%E4%BB%A3/" rel="tag">年轻代和老年代</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E5%85%B3%E9%94%AE%E5%AD%97/" rel="tag">并发关键字</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="tag">并发基础知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E5%AE%9E%E8%B7%B5/" rel="tag">并发实践</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/" rel="tag">并发容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E5%B7%A5%E5%85%B7/" rel="tag">并发工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E7%90%86%E8%AE%BA/" rel="tag">并发理论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" rel="tag">并发编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%BC%98%E7%BC%BA%E7%82%B9/" rel="tag">并发编程优缺点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" rel="tag">开发框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/" rel="tag">执行引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E6%95%B0%E6%A0%88/" rel="tag">操作数栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E6%A1%A3/" rel="tag">文档</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99/" rel="tag">文档编写</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95%E5%8C%BA/" rel="tag">方法区</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9E%E5%9C%B0%E5%9D%80/" rel="tag">方法返回地址</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E5%8C%BA/" rel="tag">本地方法区</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E5%BA%93/" rel="tag">本地方法库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%A3/" rel="tag">本地方法接口</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88/" rel="tag">本地方法栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">相关面试题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8/" rel="tag">程序计数器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%AD%90%E7%B3%BB%E7%BB%9F/" rel="tag">类加载子系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B/" rel="tag">线程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E6%98%93%E4%BA%91/" rel="tag">网易云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" rel="tag">虚拟机栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" rel="tag">触发器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A4%E8%AF%81/" rel="tag">认证</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/" rel="tag">运行时数据区</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E7%A8%8B/" rel="tag">进程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90/" rel="tag">逃逸分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%B2%E7%81%AB%E5%A2%99/" rel="tag">防火墙</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E5%90%88%E7%BC%96%E7%A8%8B/" rel="tag">集合编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AWS/" style="font-size: 10px;">AWS</a> <a href="/tags/BBR/" style="font-size: 10px;">BBR</a> <a href="/tags/Centos7/" style="font-size: 10.53px;">Centos7</a> <a href="/tags/Class%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/" style="font-size: 10px;">Class文件结构</a> <a href="/tags/Consul/" style="font-size: 10.53px;">Consul</a> <a href="/tags/DataGrip/" style="font-size: 10px;">DataGrip</a> <a href="/tags/Docker/" style="font-size: 17.37px;">Docker</a> <a href="/tags/ES6/" style="font-size: 13.16px;">ES6</a> <a href="/tags/ElasticSearch/" style="font-size: 16.32px;">ElasticSearch</a> <a href="/tags/Eureka/" style="font-size: 10px;">Eureka</a> <a href="/tags/Executor%E4%BD%93%E7%B3%BB/" style="font-size: 11.58px;">Executor体系</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Google/" style="font-size: 10px;">Google</a> <a href="/tags/Gradle/" style="font-size: 11.58px;">Gradle</a> <a href="/tags/JVM/" style="font-size: 20px;">JVM</a> <a href="/tags/JWT/" style="font-size: 10px;">JWT</a> <a href="/tags/Java/" style="font-size: 13.68px;">Java</a> <a href="/tags/Java%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 10px;">Java虚拟机</a> <a href="/tags/Jenkins/" style="font-size: 11.58px;">Jenkins</a> <a href="/tags/Kibana/" style="font-size: 10px;">Kibana</a> <a href="/tags/Kubernetes/" style="font-size: 18.42px;">Kubernetes</a> <a href="/tags/LDAP/" style="font-size: 12.11px;">LDAP</a> <a href="/tags/Launchpad/" style="font-size: 10px;">Launchpad</a> <a href="/tags/Linux/" style="font-size: 14.74px;">Linux</a> <a href="/tags/Lock%E4%BD%93%E7%B3%BB/" style="font-size: 12.63px;">Lock体系</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Nexus3/" style="font-size: 10px;">Nexus3</a> <a href="/tags/Oracle/" style="font-size: 14.21px;">Oracle</a> <a href="/tags/SQL/" style="font-size: 10.53px;">SQL</a> <a href="/tags/SSR/" style="font-size: 10.53px;">SSR</a> <a href="/tags/Seata/" style="font-size: 13.68px;">Seata</a> <a href="/tags/Shell/" style="font-size: 11.58px;">Shell</a> <a href="/tags/Spring/" style="font-size: 13.68px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 15.26px;">SpringBoot</a> <a href="/tags/SpringMVC/" style="font-size: 14.74px;">SpringMVC</a> <a href="/tags/StringTable/" style="font-size: 11.05px;">StringTable</a> <a href="/tags/Swagger/" style="font-size: 10px;">Swagger</a> <a href="/tags/TypeScript/" style="font-size: 17.89px;">TypeScript</a> <a href="/tags/WebLogic/" style="font-size: 10px;">WebLogic</a> <a href="/tags/Zookeeper/" style="font-size: 13.16px;">Zookeeper</a> <a href="/tags/debian/" style="font-size: 10.53px;">debian</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/skywalking/" style="font-size: 10.53px;">skywalking</a> <a href="/tags/thymeleaf/" style="font-size: 10px;">thymeleaf</a> <a href="/tags/%E4%B8%80%E4%BA%9B%E9%99%84%E5%8A%A0%E4%BF%A1%E6%81%AF/" style="font-size: 10px;">一些附加信息</a> <a href="/tags/%E4%BA%9A%E9%A9%AC%E9%80%8A/" style="font-size: 10px;">亚马逊</a> <a href="/tags/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5/" style="font-size: 10px;">动态链接</a> <a href="/tags/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C%E7%B1%BB/" style="font-size: 10px;">原子操作类</a> <a href="/tags/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/" style="font-size: 15.79px;">垃圾回收</a> <a href="/tags/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/" style="font-size: 16.84px;">垃圾回收器</a> <a href="/tags/%E5%A0%86/" style="font-size: 12.63px;">堆</a> <a href="/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/" style="font-size: 11.05px;">存储过程</a> <a href="/tags/%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E7%9A%84%E8%BF%87%E7%A8%8B/" style="font-size: 10px;">对象分配的过程</a> <a href="/tags/%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E8%A1%A8/" style="font-size: 10px;">局部变量表</a> <a href="/tags/%E5%B9%B4%E8%BD%BB%E4%BB%A3%E5%92%8C%E8%80%81%E5%B9%B4%E4%BB%A3/" style="font-size: 10px;">年轻代和老年代</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E5%85%B3%E9%94%AE%E5%AD%97/" style="font-size: 11.58px;">并发关键字</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size: 10px;">并发基础知识</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E5%AE%9E%E8%B7%B5/" style="font-size: 10px;">并发实践</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/" style="font-size: 13.16px;">并发容器</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E5%B7%A5%E5%85%B7/" style="font-size: 10.53px;">并发工具</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E7%90%86%E8%AE%BA/" style="font-size: 10px;">并发理论</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="font-size: 11.05px;">并发编程</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%BC%98%E7%BC%BA%E7%82%B9/" style="font-size: 10px;">并发编程优缺点</a> <a href="/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">开发框架</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 19.47px;">微信小程序</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 17.37px;">微服务</a> <a href="/tags/%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/" style="font-size: 12.11px;">执行引擎</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 14.74px;">排序</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E6%95%B0%E6%A0%88/" style="font-size: 10px;">操作数栈</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 12.63px;">数据结构</a> <a href="/tags/%E6%96%87%E6%A1%A3/" style="font-size: 10px;">文档</a> <a href="/tags/%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99/" style="font-size: 10px;">文档编写</a> <a href="/tags/%E6%96%B9%E6%B3%95%E5%8C%BA/" style="font-size: 12.11px;">方法区</a> <a href="/tags/%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9E%E5%9C%B0%E5%9D%80/" style="font-size: 10px;">方法返回地址</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 10.53px;">服务器</a> <a href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E5%8C%BA/" style="font-size: 10px;">本地方法区</a> <a href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E5%BA%93/" style="font-size: 10px;">本地方法库</a> <a href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%A3/" style="font-size: 10px;">本地方法接口</a> <a href="/tags/%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88/" style="font-size: 10px;">本地方法栈</a> <a href="/tags/%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">相关面试题</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8/" style="font-size: 10px;">程序计数器</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15.26px;">算法</a> <a href="/tags/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%AD%90%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">类加载子系统</a> <a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size: 10px;">线程</a> <a href="/tags/%E7%BD%91%E6%98%93%E4%BA%91/" style="font-size: 10px;">网易云</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" style="font-size: 13.68px;">虚拟机栈</a> <a href="/tags/%E8%A7%A6%E5%8F%91%E5%99%A8/" style="font-size: 10px;">触发器</a> <a href="/tags/%E8%AE%A4%E8%AF%81/" style="font-size: 10px;">认证</a> <a href="/tags/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/" style="font-size: 18.95px;">运行时数据区</a> <a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 10px;">进程</a> <a href="/tags/%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90/" style="font-size: 10.53px;">逃逸分析</a> <a href="/tags/%E9%98%B2%E7%81%AB%E5%A2%99/" style="font-size: 10px;">防火墙</a> <a href="/tags/%E9%9B%86%E5%90%88%E7%BC%96%E7%A8%8B/" style="font-size: 10.53px;">集合编程</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 14.21px;">面试题</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/JVM-065-Class%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84-%E6%A6%82%E8%BF%B0/">JVM-065-Class文件结构-概述</a>
          </li>
        
          <li>
            <a href="/JVM-064-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E7%9A%84%E6%96%B0%E5%8F%91%E5%B1%95/">JVM-064-垃圾回收器-垃圾回收器的新发展</a>
          </li>
        
          <li>
            <a href="/JVM-063-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8-GC%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90/">JVM-063-垃圾回收器-GC日志分析</a>
          </li>
        
          <li>
            <a href="/JVM-062-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E6%80%BB%E7%BB%93/">JVM-062-垃圾回收器-垃圾回收器总结</a>
          </li>
        
          <li>
            <a href="/JVM-061-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8-G1%E5%9B%9E%E6%94%B6%E5%99%A8-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E8%BF%87%E7%A8%8B%E8%AF%A6%E6%83%85/">JVM-061-垃圾回收器-G1回收器-垃圾回收过程详情</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 buubiu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>